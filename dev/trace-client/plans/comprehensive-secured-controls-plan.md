# Plan: Comprehensive Secured Controls Object Array

## Executive Summary

This plan proposes a comprehensive, well-structured secured controls system based on:
- **permissions.md**: 4 built-in roles with specific permissions
- **secured-controls-logic.md**: RBAC architecture understanding
- **master-menu-data.ts**: Current menu structure analysis

The goal is to replace any existing `secured-controls.json` with a complete, granular, and maintainable array of secured control objects.

---

## 1. Analysis of Current System

### 1.1 Built-in Roles (from permissions.md)

| Role | Permissions Summary |
|------|-------------------|
| **built-in-user** | View-only, cannot save, restricted menu access |
| **built-in-sales-person** | Limited to Vouchers/Sales/Sales Return, view-only |
| **built-in-accountant** | Edit-only (no new entries), full menu access |

### 1.2 Current Menu Structure (from master-menu-data.ts)

**Accounts Menu** (Business Users):
1. Vouchers (All Vouchers)
2. Purch/Sales (Purchase, Purchase Return, Sales, Sales Return, Debit Notes, Credit Notes)
3. Masters (Company Info, General Settings, Accounts Master, Opening Balances, Branches, Financial Years)
4. Final Accounts (Trial Balance, Balance Sheet, PL Account, General Ledger)
5. Options (Bank Recon, Common Utilities, Exports)
6. Reports (All Transactions)
7. Inventory (Categories, Brands, Product Master, Opening Stock, Reports, Stock Journal, Branch Transfer)


### 1.3 Permission Granularity Needed

Based on analysis, we need permissions for:
- **Menu visibility** (can see menu item)
- **CRUD operations** (Create, Read/View, Update/Edit, Delete)
- **Special actions** (Export, Print, etc.)

---

## 2. Proposed Control Naming Convention

### 2.1 Naming Pattern
```
{module}.{feature}.{action}
```

**Examples**:
- `vouchers.view` - Can view vouchers menu
- `vouchers.create` - Can create new voucher
- `vouchers.edit` - Can edit existing voucher
- `vouchers.delete` - Can delete voucher
- `sales.view` - Can view sales menu
- `sales.create` - Can create new sale
- `finalAccounts.trialBalance.view` - Can view trial balance

### 2.2 Control Types
- `menu` - Controls menu visibility
- `action` - Controls specific actions (save, edit, delete)
- `feature` - Controls access to features
- `report` - Controls access to reports

---

## 3. Comprehensive Secured Controls Array

### 3.1 TypeScript Structure

```typescript
export type SecuredControlType = {
  id?: number              // Auto-generated by database
  controlNo: number        // Unique numeric identifier (100-999)
  controlName: string      // Unique string identifier
  controlType: string      // 'menu' | 'action' | 'feature' | 'report'
  descr: string            // Human-readable description
  module?: string          // Optional: grouping (vouchers, sales, inventory, etc.)
  isBuiltIn?: boolean      // Optional: true for system controls
}
```

### 3.2 Proposed Controls by Module

#### **A. VOUCHERS MODULE (100-119)**

```typescript
[
  {
    controlNo: 100,
    controlName: 'vouchers.menu.view',
    controlType: 'menu',
    descr: 'Can view Vouchers menu',
    module: 'vouchers'
  },
  {
    controlNo: 101,
    controlName: 'vouchers.view',
    controlType: 'action',
    descr: 'Can view voucher list',
    module: 'vouchers'
  },
  {
    controlNo: 102,
    controlName: 'vouchers.create',
    controlType: 'action',
    descr: 'Can create new vouchers',
    module: 'vouchers'
  },
  {
    controlNo: 103,
    controlName: 'vouchers.edit',
    controlType: 'action',
    descr: 'Can edit existing vouchers',
    module: 'vouchers'
  },
  {
    controlNo: 104,
    controlName: 'vouchers.delete',
    controlType: 'action',
    descr: 'Can delete vouchers',
    module: 'vouchers'
  },
  {
    controlNo: 105,
    controlName: 'vouchers.print',
    controlType: 'action',
    descr: 'Can print vouchers',
    module: 'vouchers'
  },
  {
    controlNo: 106,
    controlName: 'vouchers.export',
    controlType: 'action',
    descr: 'Can export vouchers',
    module: 'vouchers'
  }
]
```

#### **B. PURCHASE/SALES MODULE (120-179)**

**Purchase (120-129)**
```typescript
[
  {
    controlNo: 120,
    controlName: 'purchase.menu.view',
    controlType: 'menu',
    descr: 'Can view Purchase menu',
    module: 'purchase'
  },
  {
    controlNo: 121,
    controlName: 'purchase.view',
    controlType: 'action',
    descr: 'Can view purchase list',
    module: 'purchase'
  },
  {
    controlNo: 122,
    controlName: 'purchase.create',
    controlType: 'action',
    descr: 'Can create new purchase',
    module: 'purchase'
  },
  {
    controlNo: 123,
    controlName: 'purchase.edit',
    controlType: 'action',
    descr: 'Can edit existing purchase',
    module: 'purchase'
  },
  {
    controlNo: 124,
    controlName: 'purchase.delete',
    controlType: 'action',
    descr: 'Can delete purchase',
    module: 'purchase'
  }
]
```

**Purchase Return (130-139)**
```typescript
[
  {
    controlNo: 130,
    controlName: 'purchaseReturn.menu.view',
    controlType: 'menu',
    descr: 'Can view Purchase Return menu',
    module: 'purchase'
  },
  {
    controlNo: 131,
    controlName: 'purchaseReturn.view',
    controlType: 'action',
    descr: 'Can view purchase return list',
    module: 'purchase'
  },
  {
    controlNo: 132,
    controlName: 'purchaseReturn.create',
    controlType: 'action',
    descr: 'Can create new purchase return',
    module: 'purchase'
  },
  {
    controlNo: 133,
    controlName: 'purchaseReturn.edit',
    controlType: 'action',
    descr: 'Can edit existing purchase return',
    module: 'purchase'
  },
  {
    controlNo: 134,
    controlName: 'purchaseReturn.delete',
    controlType: 'action',
    descr: 'Can delete purchase return',
    module: 'purchase'
  }
]
```

**Sales (140-149)**
```typescript
[
  {
    controlNo: 140,
    controlName: 'sales.menu.view',
    controlType: 'menu',
    descr: 'Can view Sales menu',
    module: 'sales'
  },
  {
    controlNo: 141,
    controlName: 'sales.view',
    controlType: 'action',
    descr: 'Can view sales list',
    module: 'sales'
  },
  {
    controlNo: 142,
    controlName: 'sales.create',
    controlType: 'action',
    descr: 'Can create new sales',
    module: 'sales'
  },
  {
    controlNo: 143,
    controlName: 'sales.edit',
    controlType: 'action',
    descr: 'Can edit existing sales',
    module: 'sales'
  },
  {
    controlNo: 144,
    controlName: 'sales.delete',
    controlType: 'action',
    descr: 'Can delete sales',
    module: 'sales'
  }
]
```

**Sales Return (150-159)**
```typescript
[
  {
    controlNo: 150,
    controlName: 'salesReturn.menu.view',
    controlType: 'menu',
    descr: 'Can view Sales Return menu',
    module: 'sales'
  },
  {
    controlNo: 151,
    controlName: 'salesReturn.view',
    controlType: 'action',
    descr: 'Can view sales return list',
    module: 'sales'
  },
  {
    controlNo: 152,
    controlName: 'salesReturn.create',
    controlType: 'action',
    descr: 'Can create new sales return',
    module: 'sales'
  },
  {
    controlNo: 153,
    controlName: 'salesReturn.edit',
    controlType: 'action',
    descr: 'Can edit existing sales return',
    module: 'sales'
  },
  {
    controlNo: 154,
    controlName: 'salesReturn.delete',
    controlType: 'action',
    descr: 'Can delete sales return',
    module: 'sales'
  }
]
```

**Debit/Credit Notes (160-179)**
```typescript
[
  {
    controlNo: 160,
    controlName: 'debitNotes.menu.view',
    controlType: 'menu',
    descr: 'Can view Debit Notes menu',
    module: 'sales'
  },
  {
    controlNo: 161,
    controlName: 'debitNotes.view',
    controlType: 'action',
    descr: 'Can view debit notes',
    module: 'sales'
  },
  {
    controlNo: 162,
    controlName: 'debitNotes.create',
    controlType: 'action',
    descr: 'Can create debit notes',
    module: 'sales'
  },
  {
    controlNo: 170,
    controlName: 'creditNotes.menu.view',
    controlType: 'menu',
    descr: 'Can view Credit Notes menu',
    module: 'sales'
  },
  {
    controlNo: 171,
    controlName: 'creditNotes.view',
    controlType: 'action',
    descr: 'Can view credit notes',
    module: 'sales'
  },
  {
    controlNo: 172,
    controlName: 'creditNotes.create',
    controlType: 'action',
    descr: 'Can create credit notes',
    module: 'sales'
  }
]
```

#### **C. MASTERS MODULE (200-249)**

```typescript
[
  {
    controlNo: 200,
    controlName: 'masters.menu.view',
    controlType: 'menu',
    descr: 'Can view Masters menu',
    module: 'masters'
  },
  {
    controlNo: 201,
    controlName: 'masters.companyInfo.view',
    controlType: 'feature',
    descr: 'Can view company information',
    module: 'masters'
  },
  {
    controlNo: 202,
    controlName: 'masters.companyInfo.edit',
    controlType: 'action',
    descr: 'Can edit company information',
    module: 'masters'
  },
  {
    controlNo: 210,
    controlName: 'masters.generalSettings.view',
    controlType: 'feature',
    descr: 'Can view general settings',
    module: 'masters'
  },
  {
    controlNo: 211,
    controlName: 'masters.generalSettings.edit',
    controlType: 'action',
    descr: 'Can edit general settings',
    module: 'masters'
  },
  {
    controlNo: 220,
    controlName: 'masters.accounts.view',
    controlType: 'feature',
    descr: 'Can view accounts master',
    module: 'masters'
  },
  {
    controlNo: 221,
    controlName: 'masters.accounts.create',
    controlType: 'action',
    descr: 'Can create accounts',
    module: 'masters'
  },
  {
    controlNo: 222,
    controlName: 'masters.accounts.edit',
    controlType: 'action',
    descr: 'Can edit accounts',
    module: 'masters'
  },
  {
    controlNo: 223,
    controlName: 'masters.accounts.delete',
    controlType: 'action',
    descr: 'Can delete accounts',
    module: 'masters'
  },
  {
    controlNo: 230,
    controlName: 'masters.openingBalances.view',
    controlType: 'feature',
    descr: 'Can view opening balances',
    module: 'masters'
  },
  {
    controlNo: 231,
    controlName: 'masters.openingBalances.edit',
    controlType: 'action',
    descr: 'Can edit opening balances',
    module: 'masters'
  },
  {
    controlNo: 240,
    controlName: 'masters.branches.view',
    controlType: 'feature',
    descr: 'Can view branches',
    module: 'masters'
  },
  {
    controlNo: 241,
    controlName: 'masters.branches.create',
    controlType: 'action',
    descr: 'Can create branches',
    module: 'masters'
  },
  {
    controlNo: 245,
    controlName: 'masters.finYears.view',
    controlType: 'feature',
    descr: 'Can view financial years',
    module: 'masters'
  },
  {
    controlNo: 246,
    controlName: 'masters.finYears.create',
    controlType: 'action',
    descr: 'Can create financial years',
    module: 'masters'
  }
]
```

#### **D. FINAL ACCOUNTS MODULE (300-349)**

```typescript
[
  {
    controlNo: 300,
    controlName: 'finalAccounts.menu.view',
    controlType: 'menu',
    descr: 'Can view Final Accounts menu',
    module: 'finalAccounts'
  },
  {
    controlNo: 310,
    controlName: 'finalAccounts.trialBalance.view',
    controlType: 'report',
    descr: 'Can view Trial Balance',
    module: 'finalAccounts'
  },
  {
    controlNo: 311,
    controlName: 'finalAccounts.trialBalance.export',
    controlType: 'action',
    descr: 'Can export Trial Balance',
    module: 'finalAccounts'
  },
  {
    controlNo: 320,
    controlName: 'finalAccounts.balanceSheet.view',
    controlType: 'report',
    descr: 'Can view Balance Sheet',
    module: 'finalAccounts'
  },
  {
    controlNo: 321,
    controlName: 'finalAccounts.balanceSheet.export',
    controlType: 'action',
    descr: 'Can export Balance Sheet',
    module: 'finalAccounts'
  },
  {
    controlNo: 330,
    controlName: 'finalAccounts.plAccount.view',
    controlType: 'report',
    descr: 'Can view PL Account',
    module: 'finalAccounts'
  },
  {
    controlNo: 331,
    controlName: 'finalAccounts.plAccount.export',
    controlType: 'action',
    descr: 'Can export PL Account',
    module: 'finalAccounts'
  },
  {
    controlNo: 340,
    controlName: 'finalAccounts.generalLedger.view',
    controlType: 'report',
    descr: 'Can view General Ledger',
    module: 'finalAccounts'
  }
]
```

#### **E. OPTIONS MODULE (400-449)**

```typescript
[
  {
    controlNo: 400,
    controlName: 'options.menu.view',
    controlType: 'menu',
    descr: 'Can view Options menu',
    module: 'options'
  },
  {
    controlNo: 410,
    controlName: 'options.bankRecon.view',
    controlType: 'feature',
    descr: 'Can view Bank Reconciliation',
    module: 'options'
  },
  {
    controlNo: 411,
    controlName: 'options.bankRecon.edit',
    controlType: 'action',
    descr: 'Can edit Bank Reconciliation',
    module: 'options'
  },
  {
    controlNo: 420,
    controlName: 'options.utilities.view',
    controlType: 'feature',
    descr: 'Can view Common Utilities',
    module: 'options'
  },
  {
    controlNo: 430,
    controlName: 'options.exports.view',
    controlType: 'feature',
    descr: 'Can view Exports',
    module: 'options'
  }
]
```

#### **F. REPORTS MODULE (500-549)**

```typescript
[
  {
    controlNo: 500,
    controlName: 'reports.menu.view',
    controlType: 'menu',
    descr: 'Can view Reports menu',
    module: 'reports'
  },
  {
    controlNo: 510,
    controlName: 'reports.allTransactions.view',
    controlType: 'report',
    descr: 'Can view All Transactions report',
    module: 'reports'
  },
  {
    controlNo: 511,
    controlName: 'reports.allTransactions.export',
    controlType: 'action',
    descr: 'Can export All Transactions report',
    module: 'reports'
  }
]
```

#### **G. INVENTORY MODULE (600-699)**

```typescript
[
  {
    controlNo: 600,
    controlName: 'inventory.menu.view',
    controlType: 'menu',
    descr: 'Can view Inventory menu',
    module: 'inventory'
  },
  {
    controlNo: 610,
    controlName: 'inventory.categories.view',
    controlType: 'feature',
    descr: 'Can view product categories',
    module: 'inventory'
  },
  {
    controlNo: 611,
    controlName: 'inventory.categories.create',
    controlType: 'action',
    descr: 'Can create product categories',
    module: 'inventory'
  },
  {
    controlNo: 612,
    controlName: 'inventory.categories.edit',
    controlType: 'action',
    descr: 'Can edit product categories',
    module: 'inventory'
  },
  {
    controlNo: 620,
    controlName: 'inventory.brands.view',
    controlType: 'feature',
    descr: 'Can view brands',
    module: 'inventory'
  },
  {
    controlNo: 621,
    controlName: 'inventory.brands.create',
    controlType: 'action',
    descr: 'Can create brands',
    module: 'inventory'
  },
  {
    controlNo: 630,
    controlName: 'inventory.products.view',
    controlType: 'feature',
    descr: 'Can view product master',
    module: 'inventory'
  },
  {
    controlNo: 631,
    controlName: 'inventory.products.create',
    controlType: 'action',
    descr: 'Can create products',
    module: 'inventory'
  },
  {
    controlNo: 632,
    controlName: 'inventory.products.edit',
    controlType: 'action',
    descr: 'Can edit products',
    module: 'inventory'
  },
  {
    controlNo: 640,
    controlName: 'inventory.openingStock.view',
    controlType: 'feature',
    descr: 'Can view opening stock',
    module: 'inventory'
  },
  {
    controlNo: 641,
    controlName: 'inventory.openingStock.edit',
    controlType: 'action',
    descr: 'Can edit opening stock',
    module: 'inventory'
  },
  {
    controlNo: 650,
    controlName: 'inventory.reports.view',
    controlType: 'feature',
    descr: 'Can view inventory reports',
    module: 'inventory'
  },
  {
    controlNo: 660,
    controlName: 'inventory.stockJournal.view',
    controlType: 'feature',
    descr: 'Can view stock journal',
    module: 'inventory'
  },
  {
    controlNo: 661,
    controlName: 'inventory.stockJournal.create',
    controlType: 'action',
    descr: 'Can create stock journal entries',
    module: 'inventory'
  },
  {
    controlNo: 670,
    controlName: 'inventory.branchTransfer.view',
    controlType: 'feature',
    descr: 'Can view branch transfers',
    module: 'inventory'
  },
  {
    controlNo: 671,
    controlName: 'inventory.branchTransfer.create',
    controlType: 'action',
    descr: 'Can create branch transfers',
    module: 'inventory'
  }
]
```


---

## 4. Role-to-Control Mappings

### 4.1 Built-in User Role

**Characteristics**: View-only, cannot save, restricted menus

```typescript
const builtInUserControls = [
  // Vouchers - View only
  'vouchers.menu.view',
  'vouchers.view',

  // Purchase/Sales - View only
  'purchase.menu.view',
  'purchase.view',
  'purchaseReturn.menu.view',
  'purchaseReturn.view',
  'sales.menu.view',
  'sales.view',
  'salesReturn.menu.view',
  'salesReturn.view',
  'debitNotes.menu.view',
  'debitNotes.view',
  'creditNotes.menu.view',
  'creditNotes.view',

  // Masters - View only
  'masters.menu.view',
  'masters.companyInfo.view',
  'masters.generalSettings.view',
  'masters.accounts.view',
  'masters.openingBalances.view',
  'masters.branches.view',
  'masters.finYears.view',

  // Final Accounts - EXCLUDED (per permissions.md)
  // 'finalAccounts.trialBalance.view',
  // 'finalAccounts.balanceSheet.view',
  // 'finalAccounts.plAccount.view',

  'finalAccounts.menu.view',
  'finalAccounts.generalLedger.view',

  // Options - EXCLUDED (per permissions.md)
  // No options menu access

  // Reports - View only
  'reports.menu.view',
  'reports.allTransactions.view',

  // Inventory - View only, excluding Stock Journal and Branch Transfer
  'inventory.menu.view',
  'inventory.categories.view',
  'inventory.brands.view',
  'inventory.products.view',
  'inventory.openingStock.view',
  'inventory.reports.view'
  // 'inventory.stockJournal.view', - EXCLUDED
  // 'inventory.branchTransfer.view' - EXCLUDED
]
```

**Total**: ~30 controls (view-only access)

### 4.2 Built-in Sales Person Role

**Characteristics**: Limited to Vouchers receipts, Sales, Sales Return (view-only, no edit)

```typescript
const builtInSalesPersonControls = [
  // Vouchers - View only (receipts)
  'vouchers.menu.view',
  'vouchers.view',

  // Sales - View only
  'sales.menu.view',
  'sales.view',
  // 'sales.edit', - EXCLUDED

  // Sales Return - View only
  'salesReturn.menu.view',
  'salesReturn.view'
  // 'salesReturn.edit', - EXCLUDED

  // All other menus EXCLUDED
]
```

**Total**: ~6 controls (very limited access)

### 4.3 Built-in Accountant Role

**Characteristics**: Edit-only (no create), all menus visible

```typescript
const builtInAccountantControls = [
  // Vouchers - Edit only
  'vouchers.menu.view',
  'vouchers.view',
  'vouchers.edit',
  // 'vouchers.create', - EXCLUDED

  // Purchase - Edit only
  'purchase.menu.view',
  'purchase.view',
  'purchase.edit',
  // 'purchase.create', - EXCLUDED

  // Purchase Return - Edit only
  'purchaseReturn.menu.view',
  'purchaseReturn.view',
  'purchaseReturn.edit',

  // Sales - Edit only
  'sales.menu.view',
  'sales.view',
  'sales.edit',

  // Sales Return - Edit only
  'salesReturn.menu.view',
  'salesReturn.view',
  'salesReturn.edit',

  // Debit/Credit Notes - Edit only
  'debitNotes.menu.view',
  'debitNotes.view',
  'creditNotes.menu.view',
  'creditNotes.view',

  // Masters - Edit only
  'masters.menu.view',
  'masters.companyInfo.view',
  'masters.companyInfo.edit',
  'masters.generalSettings.view',
  'masters.generalSettings.edit',
  'masters.accounts.view',
  'masters.accounts.edit',
  // 'masters.accounts.create', - EXCLUDED
  'masters.openingBalances.view',
  'masters.openingBalances.edit',
  'masters.branches.view',
  'masters.finYears.view',

  // Final Accounts - Full view access
  'finalAccounts.menu.view',
  'finalAccounts.trialBalance.view',
  'finalAccounts.trialBalance.export',
  'finalAccounts.balanceSheet.view',
  'finalAccounts.balanceSheet.export',
  'finalAccounts.plAccount.view',
  'finalAccounts.plAccount.export',
  'finalAccounts.generalLedger.view',

  // Options - View and edit
  'options.menu.view',
  'options.bankRecon.view',
  'options.bankRecon.edit',
  'options.utilities.view',
  'options.exports.view',

  // Reports - Full access
  'reports.menu.view',
  'reports.allTransactions.view',
  'reports.allTransactions.export',

  // Inventory - Edit only
  'inventory.menu.view',
  'inventory.categories.view',
  'inventory.categories.edit',
  // 'inventory.categories.create', - EXCLUDED
  'inventory.brands.view',
  'inventory.products.view',
  'inventory.products.edit',
  'inventory.openingStock.view',
  'inventory.openingStock.edit',
  'inventory.reports.view',
  'inventory.stockJournal.view',
  'inventory.branchTransfer.view'
]
```

**Total**: ~55 controls (edit access, no create)

---

## 5. Complete Secured Controls Array

### 5.1 File Structure

**Location**: `src/data/secured-controls-master.ts`

```typescript
import { SecuredControlType } from '../features/login/login-slice'

/**
 * Master list of all secured controls in the system
 * This is the single source of truth for all permissions
 */
export const SECURED_CONTROLS_MASTER: Omit<SecuredControlType, 'id'>[] = [
  // VOUCHERS MODULE (100-119)
  {
    controlNo: 100,
    controlName: 'vouchers.menu.view',
    controlType: 'menu',
    descr: 'Can view Vouchers menu'
  },
  // ... (all 100+ controls listed)
]

/**
 * Built-in role templates for quick role setup
 */
export const BUILT_IN_ROLE_TEMPLATES = {
  'built-in-user': [
    'vouchers.menu.view',
    'vouchers.view',
    // ... (30 controls)
  ],
  'built-in-sales-person': [
    'vouchers.menu.view',
    'vouchers.view',
    // ... (6 controls)
  ],
  'built-in-accountant': [
    'vouchers.menu.view',
    'vouchers.view',
    'vouchers.edit',
    // ... (55 controls)
  ],
  // Note: Admin and Super Admin roles have full access
  // controlled programmatically via userType === 'A' or 'S'
}

/**
 * Helper to get controls by module
 */
export const getControlsByModule = (module: string): SecuredControlType[] => {
  return SECURED_CONTROLS_MASTER.filter(c => c.controlName?.startsWith(module))
}

/**
 * Helper to get controls by type
 */
export const getControlsByType = (type: string): SecuredControlType[] => {
  return SECURED_CONTROLS_MASTER.filter(c => c.controlType === type)
}
```

---

## 6. Implementation Steps

### 6.1 Phase 1: Create Master File
1. Create `src/data/secured-controls-master.ts`
2. Define all 100+ secured controls
3. Add built-in role templates
4. Add helper functions

### 6.2 Phase 2: Database Migration
1. Create SQL script to insert all controls into `SecuredControlM` table
2. Ensure `controlNo` is unique
3. Ensure `controlName` is unique
4. Run migration on global security database

### 6.3 Phase 3: Built-in Roles Setup
1. Create built-in roles in `RoleM` table
2. Link controls to roles via `RoleSecuredControlX` table
3. Use `BUILT_IN_ROLE_TEMPLATES` as reference

### 6.4 Phase 4: Update UI Components
1. Update menu rendering to check specific menu permissions
2. Update form action buttons to check CRUD permissions
3. Add permission checks to all features

### 6.5 Phase 5: Testing
1. Test each built-in role thoroughly
2. Verify menu visibility
3. Verify action button visibility
4. Verify CRUD operation restrictions

---

## 7. Advantages of This Approach

### 7.1 Granularity
- Separate controls for menu visibility vs actions
- CRUD operations individually controlled
- Special actions (export, print) separately managed

### 7.2 Organization
- Numeric ranges by module (100s, 200s, etc.)
- Consistent naming convention
- Easy to find and understand controls

### 7.3 Flexibility
- Easy to add new controls
- Built-in role templates speed up setup
- Admins can create custom combinations

### 7.4 Maintainability
- Single source of truth in code
- TypeScript ensures type safety
- Helper functions for common queries
- Well-documented and organized

---

## 8. Summary

This comprehensive secured controls system provides:

**Total Controls**: ~70+ granular permissions
**Modules**: 7 major modules (Vouchers, Purchase/Sales, Masters, Final Accounts, Options, Reports, Inventory)
**Built-in Roles**: 3 predefined roles with specific permission sets
**Naming Convention**: `{module}.{feature}.{action}` for clarity
**Control Types**: menu, action, feature, report
**Numeric Ranges**: 100-699 organized by module

The system is designed to be:
- **Comprehensive**: Covers all features in the application
- **Granular**: Fine-grained control over every action
- **Maintainable**: Well-organized and documented
- **Flexible**: Easy to extend and customize
- **Type-safe**: Full TypeScript support
